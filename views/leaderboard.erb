<html>
  <head>
    <base href="/"> 
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/primer@10.5.0/build/build.css">
	</head>
	<body>
	  <h1>ScoreHub</h1>
    <div class="d-flex flex-justify-around">
    <div class="p-5">
      <div class="blankslate blankslate-spacious" style="height: 80vh">
			  <div class="blankslate blankslate-spacious" style="width: 760px"></div>
        <h3>Leaderboard</h3>
        <p class="text-gray alt-text-small">Here is the progress of your followers</p>
			  <div id="user-info" class="following-user d-flex flex-justify-left flex-items-center pb-2"></div>
        <div id="user-info2"></div>
        </div>
		</div>
    </div>

    <div class="p-5">
      <div class="blankslate blankslate-narrow" style="width: 400px; height: 80vh">
        <img class="avatar avatar-8 mr-2" width="128" height="128" src="<%= avatar_url %>" />
        <h3>Hey, <a href="https://github.com/<%= login %>" target="blank">@<%= login %></a>!</h3>
        <p class="text-gray alt-text-small">Here is all of your public profile data that wins you points!</p>
        <div>
				  <p><strong>Points: 0</strong></p>
 				  <p>followers: <%= followers %></p>
				  <p>following: <%= following.length() %></p> 
				  <p>public repositories: <%= public_repos %></p> 
			  </div>
			<div>
	  </div>
  </body>

  <script>
    userData = '<%=userData%>'
    var data = JSON.parse(userData);
    console.log(data);

    for (let i = 0; i < data.length; i++) {
      function insertAfter(currentDiv, newDiv) {
        currentDiv.parentNode.insertBefore(newDiv, currentDiv.nextSibling);
      }
      var el = document.createElement("div")
      el.innerHTML = (`<span class="d-flex"><img class="avatar avatar-small" width="28" height="28" src=${data[i].avatar_url}><p id="follow" class="mr-2 pl-3"><a href="https://github.com/${data[i].login}" target="blank"><strong>@${data[i].login}</strong></a></p></span>`);
      var div = document.getElementById("user-info");
      insertAfter(div, el)
    }
  </script>  
</html>